#:kivy 1.11.1

#:import Label kivy.uix.label.Label

#WindowManager:
#    MainWindow:
#    SecondWindow:
#        Label:
#            text: "second window"

#<MainWindow>:
#    name: "main"
#<SecondWindow>:
#    name: "second"

<MainBox>:
    BoxLayout:
        id: top_box
        #diviser l'écran en deux
        orientation: "horizontal"
        size: root.size
        pos: root.pos
        spacing: 60

        BoxLayout:
            #barre latérale
            id: lateral
            cols: "vertical"
            size_hint: 0.2, 1
            pos: root.pos

            canvas:
                Color:
                    rgb: (.349, .5686, .392, 1)

                RoundedRectangle:
                    size: self.size
                    pos: self.pos
                    radius: 0, 20, 20, 0 #TOP-L, TOP-R, BOTTOM-R, BOTTOM-L
            
            BoxLayout:
                id: bottom_box
                orientation: 'vertical'
                spacing: 80
                Label:
                    id: title
                    background_normal: ''
                    text: 'VideGraf'
                    color: 1, 1, 1, 1
                    size_hint_y: 0.2
                    height: 40
                    width: 200
                    font_size: 65
                    halign: "center"
                    text_size: self.size
                Button:
                    id: button_1
                    background_normal: ''
                    background_color: .349, .5686, .392, 1
                    #text: 'Sélectionner'
                    size_hint_y: 0.10
                    width: 200
                    height: 40
                    #halign: "left"
                    #text_size: self.size
                    StackLayout:
                        pos: self.parent.pos
                        size: self.parent.size
                        orientation: 'lr-tb'
                        padding: [30, 0, 0, 0]
                        size_hint_y: None
                        spacing: 10
                        Image:
                            source: 'hand.png'
                            size_hint_x: None
                            width: 30
                            valign: "center"

                        Label:
                            size_hint_x: None
                            halign: "left"
                            height: 40
                            width: 200
                            text: "Sélectionner"
                            text_size: self.size
                            valign: "center"
                Button:
                    id: button_2
                    background_normal: ''
                    background_color: .349, .5686, .392, 1
                    #text: 'Sélectionner'
                    size_hint_y: 0.10
                    width: 200
                    height: 40
                    #halign: "left"
                    #text_size: self.size
                    StackLayout:
                        pos: self.parent.pos
                        size: self.parent.size
                        orientation: 'lr-tb'
                        padding: [30, 0, 0, 0]
                        size_hint_y: None
                        spacing: 10
                        Image:
                            source: 'hand.png'
                            size_hint_x: None
                            width: 30
                            valign: "center"

                        Label:
                            size_hint_x: None
                            halign: "left"
                            height: 40
                            width: 200
                            text: "Vers le bas"
                            text_size: self.size
                            valign: "center"
                Button:
                    id: button_3
                    background_normal: ''
                    background_color: .349, .5686, .392, 1
                    size_hint_y: 0.10
                    width: 200
                    height: 40

                    StackLayout:
                        pos: self.parent.pos
                        size: self.parent.size
                        orientation: 'lr-tb'
                        padding: [30, 0, 0, 0]
                        size_hint_y: None
                        spacing: 10

                        Image:
                            source: 'hand.png'
                            size_hint_x: None
                            width: 30
                            valign: "center"

                        Label:
                            size_hint_x: None
                            halign: "left"
                            height: 40
                            width: 200
                            text: "Vers le haut"
                            text_size: self.size
                            valign: "center"
                Button:
                    id: button_4
                    background_normal: ''
                    background_color: .349, .5686, .392, 1
                    #text: 'Sélectionner'
                    size_hint_y: 0.10
                    width: 200
                    height: 40
                    #halign: "left"
                    #text_size: self.size
                    StackLayout:
                        pos: self.parent.pos
                        size: self.parent.size
                        orientation: 'lr-tb'
                        padding: [30, 0, 0, 0]
                        size_hint_y: None
                        spacing: 10
                        Image:
                            source: 'hand.png'
                            size_hint_x: None
                            width: 30
                            valign: "center"

                        Label:
                            size_hint_x: None
                            halign: "left"
                            height: 40
                            width: 200
                            text: "Vers la droite"
                            text_size: self.size
                            valign: "center"
                Button:
                    id: button_4
                    background_normal: ''
                    background_color: .349, .5686, .392, 1
                    #text: 'Sélectionner'
                    size_hint_y: 0.10
                    width: 240
                    height: 40
                    #halign: "left"
                    #text_size: self.size
                    StackLayout:
                        pos: self.parent.pos
                        size: self.parent.size
                        orientation: 'lr-tb'
                        padding: [30, 0, 0, 0]
                        size_hint_x: None
                        size_hint_y: None
                        spacing: 10
                        Image:
                            source: 'hand.png'
                            size_hint_x: None
                            width: 30
                            valign: "center"

                        Label:
                            size_hint_x: None
                            halign: "left"
                            height: 40
                            width: 200
                            text: "Vers la gauche"
                            text_size: self.size
                            valign: "center"        
                Widget:
            
                FloatLayout:
                    Image:
                        source: "chibi_side_bar.png"
                        size_hint_x: 1
                        size_hint_y: None
                        size: self.texture_size
                        anchor_x: "center"
                        anchor_y: "center"


<Header>:
    BoxLayout:
        orientation: 'vertical'
        size: root.size
        pos: root.pos
        spacing: 30
        id: content_box

        StackLayout:
            orientation: 'lr-tb'
            size_hint_x: 2
            size_hint_y: .1
            

            Label:
                text: "[b] Sujets chauds du moment"
                markup: True
                font_size: 44
                text_size: self.size
                color: .349, .5686, .392, 1

<Topics>:

    GridLayout:
        id: contents
        cols: 3
        size: root.size
        pos: root.pos
        spacing: 100
        #on_parent:
            #for i in range(11): txt = "Label {0}".format(i); self.add_widget(Label(text = txt, text_size=(cm(2), cm(2)), pos=self.pos,
            #id=txt, color=(1,0,0,1)))

<Subject>:
    StackLayout:
        orientation: "tb-lr"
        spacing: 20
        size: root.size
        pos: root.pos
        size_hint_x: None
        size_hint_y: None
        padding: [20, 20, 100, 100]

        Button:
            pos: root.pos
            size: root.size
            background_color: 0,0,0,0
            text_size: self.size
            #on_release: app.root.current = "second"

            canvas.before:
                Color:
                    rgba: (1, 1, 1, 1) if self.state == 'normal' else (.349, .5686, .392, .2)

                RoundedRectangle:
                    size: [self.size[0], self.size[1]]
                    pos: self.pos
                    radius: 40, 40, 40, 40

            BoxLayout:
                pos: self.parent.pos
                size: self.parent.size
                orientation: 'vertical'
                padding: [30, 100, 30, 0]
                size_hint_x: None
                size_hint_y: None
                spacing: self.size[0]/4

                Label:
                    text: "" if app.subjectName is None else "%s" % (app.subjectName)
                    color: .349, .5686, .392, 1
                    text_size: self.parent.size
                    pos: self.parent.pos
                    halign: "center"
                
                
                GridLayout:
                    cols: 5
                    pos: self.parent.pos
                    size: self.parent.size
                    padding: [80, 0, 80, 0]
                    size_hint_x: None
                    size_hint_y: None
                    spacing: 20

                    
                    Image:
                        source: 'camera.png'
                        size_hint_x: None
                        width: 40
                        valign: "center"

                    Label:
                        color: .349, .5686, .392, 1
                        size_hint_x: None
                        halign: "center"
                        height: 40
                        width: 80
                        text: "" if app.subjectCamNb is None else "%s" % (app.subjectCamNb)
                        text_size: self.size
                        valign: "center" 
                    
                    Widget:

                    Image:
                        source: 'paint_spray.png'
                        size_hint_x: None
                        width: 40
                        valign: "center"

                    Label:
                        color: .349, .5686, .392, 1
                        size_hint_x: None
                        halign: "center"
                        height: 40
                        width: 80
                        text: "" if app.subjectGrafNb is None else "%s" % (app.subjectGrafNb)
                        text_size: self.size
                        valign: "center" 
    
            
