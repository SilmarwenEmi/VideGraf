#:kivy 1.11.1

#:import Label kivy.uix.label.Label


<TopicsSelectionScreen>:
    # \TODO: add scroll ?

    BoxLayout:
        id: top_box
        #diviser l'écran en deux
        orientation: "horizontal"
        size: root.size
        pos: root.pos
        spacing: 60


        BoxLayout:
            #barre latérale
            id: lateral
            orientation: "vertical"
            size_hint: 0.2, 1 #la barre latéral prend 20% de l'espace à l'écran
            pos: root.pos

            #couleur de fond
            canvas:
                Color:
                    rgb: (.349, .5686, .392, 1)

                RoundedRectangle:
                    size: self.size
                    pos: self.pos
                    radius: 0, 20, 20, 0 #TOP-L, TOP-R, BOTTOM-R, BOTTOM-L
            
            BoxLayout:
                id: bottom_box
                orientation: 'vertical'
                spacing: 80
                padding:[60, 0, 60, 0]

                Label:
                    background_normal: ''
                    text: 'VideGraff'
                    color: 1, 1, 1, 1
                    size_hint_y: 0.2
                    height: 40
                    width: 260
                    font_size: 65
                    halign: "center"
                    text_size: self.size
                    bold: True

                Label:
                    background_normal: ''
                    text: 'Essaie un de ces gestes !'
                    color: 1, 1, 1, 1
                    size_hint_y: 0.1
                    height: 40
                    width: 260
                    font_size: 34
                    halign: "left"
                    text_size: self.size
                    bold: True

                Button:
                    id: button_1
                    background_normal: ''
                    background_color: .349, .5686, .392, 1
                    size_hint_y: 0.10
                    width: 260
                    height: 40
                    on_press:
                        root.manager.transition.direction = 'left' 
                        root.manager.transition.duration = 0
                        root.manager.current = 'screen_TopicDisplay'

                    StackLayout:
                        pos: self.parent.pos
                        size: self.parent.size
                        orientation: 'lr-tb'
                        size_hint_y: None
                        spacing: 30

                        Image:
                            source: 'hand.png'
                            size_hint_x: None
                            width: 30
                            valign: "center"

                        Label:
                            size_hint_x: None
                            halign: "left"
                            height: 40
                            width: 260
                            text: "Sélectionner"
                            text_size: self.size
                            valign: "center"
                Button:
                    id: button_2
                    background_normal: ''
                    background_color: .349, .5686, .392, 1
                    size_hint_y: 0.10
                    width: 260
                    height: 40

                    StackLayout:
                        pos: self.parent.pos
                        size: self.parent.size
                        orientation: 'lr-tb'
                        size_hint_y: None
                        spacing: 30
                        Image:
                            source: 'hand.png'
                            size_hint_x: None
                            width: 30
                            valign: "center"

                        Label:
                            size_hint_x: None
                            halign: "left"
                            height: 40
                            width: 260
                            text: "Vers le bas"
                            text_size: self.size
                            valign: "center"
                Button:
                    id: button_3
                    background_normal: ''
                    background_color: .349, .5686, .392, 1
                    size_hint_y: 0.10
                    width: 260
                    height: 40

                    StackLayout:
                        pos: self.parent.pos
                        size: self.parent.size
                        orientation: 'lr-tb'
                        size_hint_y: None
                        spacing: 30

                        Image:
                            source: 'hand.png'
                            size_hint_x: None
                            width: 30
                            valign: "center"

                        Label:
                            size_hint_x: None
                            halign: "left"
                            height: 40
                            width: 260
                            text: "Vers le haut"
                            text_size: self.size
                            valign: "center"
                Button:
                    id: button_4
                    background_normal: ''
                    background_color: .349, .5686, .392, 1
                    size_hint_y: 0.10
                    width: 260
                    height: 40

                    StackLayout:
                        pos: self.parent.pos
                        size: self.parent.size
                        orientation: 'lr-tb'
                        size_hint_y: None
                        spacing: 30
                        Image:
                            source: 'hand.png'
                            size_hint_x: None
                            width: 30
                            valign: "center"

                        Label:
                            size_hint_x: None
                            halign: "left"
                            height: 40
                            width: 260
                            text: "Vers la droite"
                            text_size: self.size
                            valign: "center"
                Button:
                    id: button_4
                    background_normal: ''
                    background_color: .349, .5686, .392, 1
                    size_hint_y: 0.10
                    width: 240
                    height: 40

                    StackLayout:
                        pos: self.parent.pos
                        size: self.parent.size
                        orientation: 'lr-tb'
                        size_hint_x: None
                        size_hint_y: None
                        spacing: 30
                        Image:
                            source: 'hand.png'
                            size_hint_x: None
                            width: 30
                            valign: "center"

                        Label:
                            size_hint_x: None
                            halign: "left"
                            height: 40
                            width: 260
                            text: "Vers la gauche"
                            text_size: self.size
                            valign: "center"        
                Widget:
            
                FloatLayout:
                    Image:
                        source: "chibi_side_bar.png"
                        size_hint_x: 1
                        size_hint_y: None
                        size: self.texture_size
                        anchor_x: "center"
                        anchor_y: "center"


<Header>:
    BoxLayout:
        orientation: 'vertical'
        size: root.size
        pos: root.pos
        spacing: 30
        id: content_box

        StackLayout:
            orientation: 'lr-tb'
            size_hint_x: 2
            size_hint_y: .1
            

            Label:
                text: "[b] Sujets chauds du moment"
                markup: True
                font_size: 44
                text_size: self.size
                color: .349, .5686, .392, 1
            

<Topics>:

    GridLayout:
        id: contents
        cols: 3
        size: root.size
        pos: root.pos
        spacing: 100
        #on_parent:
            #for i in range(11): txt = "Label {0}".format(i); self.add_widget(Label(text = txt, text_size=(cm(2), cm(2)), pos=self.pos,
            #id=txt, color=(1,0,0,1)))

<Subject>:
    StackLayout:
        orientation: "tb-lr"
        spacing: 20
        size: root.size
        pos: root.pos
        size_hint_x: None
        size_hint_y: None
        padding: [20, 20, 100, 100]

        Button:
            pos: root.pos
            size: root.size
            background_color: 0,0,0,0
            text_size: self.size

            canvas.before:
                Color:
                    rgba: (1, 1, 1, 1) if self.state == 'normal' else (.349, .5686, .392, .2)

                RoundedRectangle:
                    size: self.size
                    pos: self.pos
                    radius: 40, 40, 40, 40

            BoxLayout:
                pos: self.parent.pos
                size: self.parent.size
                orientation: 'vertical'
                padding: [30, 100, 30, 0]
                size_hint_x: None
                size_hint_y: None
                spacing: self.size[0]/4

                Label:
                    text: "" if app.subjectName is None else "%s" % (app.subjectName)
                    color: .349, .5686, .392, 1
                    text_size: self.parent.size
                    pos: self.parent.pos
                    halign: "center"
                
                
                GridLayout:
                    cols: 5
                    pos: self.parent.pos
                    size: self.parent.size
                    padding: [80, 0, 80, 0]
                    size_hint_x: None
                    size_hint_y: None
                    spacing: 20

                    
                    Image:
                        source: 'camera.png'
                        size_hint_x: None
                        width: 40
                        valign: "center"

                    Label:
                        color: .349, .5686, .392, 1
                        size_hint_x: None
                        halign: "center"
                        height: 40
                        width: 80
                        text: "" if app.subjectCamNb is None else "%s" % (app.subjectCamNb)
                        text_size: self.size
                        valign: "center" 
                    
                    Widget:

                    Image:
                        source: 'paint_spray.png'
                        size_hint_x: None
                        width: 40
                        valign: "center"

                    Label:
                        color: .349, .5686, .392, 1
                        size_hint_x: None
                        halign: "center"
                        height: 40
                        width: 80
                        text: "" if app.subjectGrafNb is None else "%s" % (app.subjectGrafNb)
                        text_size: self.size
                        valign: "center" 
    
            

<TopicDisplayScreen>:

    BoxLayout:
        id: top_box
        #diviser l'écran en deux
        orientation: "horizontal"
        size: root.size
        pos: root.pos
        spacing: 60

        canvas.before:
            Rectangle:
                pos: self.parent.pos
                size: [self.parent.size[0], self.parent.size[1]/2]
                source: "people_background.png"
        

        BoxLayout:
            #barre latérale
            id: lateral
            orientation: "vertical"
            size_hint: 0.2, 1 #la barre latéral prend 20% de l'espace à l'écran
            pos: root.pos

            #couleur de fond
            canvas:
                Color:
                    rgb: (.349, .5686, .392, 1)

                RoundedRectangle:
                    size: self.size
                    pos: self.pos
                    radius: 0, 20, 20, 0 #TOP-L, TOP-R, BOTTOM-R, BOTTOM-L
            
            BoxLayout:
                id: bottom_box
                orientation: 'vertical'
                spacing: 80
                padding:[60, 0, 60, 0]

                Label:
                    background_normal: ''
                    text: 'VideGraff'
                    color: 1, 1, 1, 1
                    size_hint_y: 0.2
                    height: 40
                    width: 260
                    font_size: 65
                    halign: "center"
                    text_size: self.size
                    bold: True
                
                Label:
                    background_normal: ''
                    text: 'Essaie un de ces gestes !'
                    color: 1, 1, 1, 1
                    size_hint_y: 0.1
                    height: 40
                    width: 260
                    font_size: 34
                    halign: "left"
                    text_size: self.size
                    bold: True

                Button:
                    id: button_1
                    background_normal: ''
                    background_color: .349, .5686, .392, 1
                    size_hint_y: 0.10
                    width: 260
                    height: 40
                    
                    on_press:
                        root.manager.transition.direction = 'left' 
                        root.manager.transition.duration = 0
                        root.manager.current = 'screen_InterventionDisplayed'

                    StackLayout:
                        pos: self.parent.pos
                        size: self.parent.size
                        orientation: 'lr-tb'
                        size_hint_y: None
                        spacing: 30

                        Image:
                            source: 'hand.png'
                            size_hint_x: None
                            width: 30
                            valign: "center"

                        Label:
                            size_hint_x: None
                            halign: "left"
                            height: 40
                            width: 260
                            text: "Sélectionner"
                            text_size: self.size
                            valign: "center"
                Label:
                    id: button_2
                    background_normal: ''
                    background_color: .349, .5686, .392, 1
                    size_hint_y: 0.10
                    width: 260
                    height: 40

                    StackLayout:
                        pos: self.parent.pos
                        size: self.parent.size
                        orientation: 'tb-lr'
                        size_hint_y: None
                        spacing: 30

                        Label:
                            size_hint_x: None
                            halign: "left"
                            height: 40
                            width: 260
                            text: "Contribuer"
                            text_size: self.size
                            valign: "center"
                            bold: True
                Button:
                    id: button_3
                    background_normal: ''
                    background_color: .349, .5686, .392, 1
                    size_hint_y: 0.10
                    width: 260
                    height: 40
                    on_press:
                        root.manager.transition.direction = 'left' 
                        root.manager.transition.duration = 0
                        root.manager.current = 'screen_AddGraffiti'

                    StackLayout:
                        pos: self.parent.pos
                        size: self.parent.size
                        orientation: 'lr-tb'
                        size_hint_y: None
                        spacing: 30
                        padding:[80, 0, 0, 0]

                        Image:
                            source: 'hand.png'
                            size_hint_x: None
                            width: 30
                            valign: "center"

                        Label:
                            size_hint_x: None
                            halign: "left"
                            height: 40
                            width: 260
                            text: "Graffiti"
                            text_size: self.size
                            valign: "center"
                Button:
                    id: button_4
                    background_normal: ''
                    background_color: .349, .5686, .392, 1
                    size_hint_y: 0.10
                    width: 260
                    height: 40

                    StackLayout:
                        pos: self.parent.pos
                        size: self.parent.size
                        orientation: 'lr-tb'
                        size_hint_y: None
                        spacing: 30
                        padding:[80, 0, 0, 0]

                        Image:
                            source: 'hand.png'
                            size_hint_x: None
                            width: 30
                            valign: "center"

                        Label:
                            size_hint_x: None
                            halign: "left"
                            height: 40
                            width: 260
                            text: "Vidéo"
                            text_size: self.size
                            valign: "center"
                Button:
                    id: button_4
                    background_normal: ''
                    background_color: .349, .5686, .392, 1
                    size_hint_y: 0.10
                    width: 240
                    height: 40
                    on_press:
                        root.manager.transition.direction = 'right' 
                        root.manager.transition.duration = 0
                        root.manager.current = 'screen_TopicsSelection'

                    StackLayout:
                        pos: self.parent.pos
                        size: self.parent.size
                        orientation: 'lr-tb'
                        size_hint_x: None
                        size_hint_y: None
                        spacing: 30
                        

                        Image:
                            source: 'hand.png'
                            size_hint_x: None
                            width: 30
                            valign: "center"

                        Label:
                            size_hint_x: None
                            halign: "left"
                            height: 40
                            width: 260
                            text: "Retour aux sujets"
                            text_size: self.size
                            valign: "center"        
                Widget:
            
                FloatLayout:
                    Image:
                        source: "chibi_side_bar.png"
                        size_hint_x: 1
                        size_hint_y: None
                        size: self.texture_size
                        anchor_x: "center"
                        anchor_y: "center"

<HeaderTopicName>:
    BoxLayout:
        orientation: 'vertical'
        size: root.size
        pos: root.pos
        spacing: 30
        id: content_box
        

<InterventionsSelection>:
    BoxLayout:
        #interventions à gauche et chibi avec bulle à droite
        orientation: "horizontal"
        pos: [root.pos[0],root.pos[1]-150]
        size: root.size

        BoxLayout:
            #pour ajouter le widget et tout remonter
            orientation: "vertical"
            size_hint: 2, 1

            GridLayout:
                id: intervention_content
                cols: 3
                rows: 5
                size: root.size
                pos: self.parent.pos
                spacing: 100
                size_hint: 1,3
            
            Widget:
    
        Label:
            text: "image chibi avec bulle !"
            color: 0, 0, 0, 1

<Intervention>:
    Button:
        pos: root.pos
        size: [550, 200]
        background_color: 0, 0, 0, 0
        text_size: self.size
        #on_press: appeler fonction pour aller chercher le contenu et rediriger vers la page avec le bon contenu

        canvas.before:
            Color:
                rgba: (1, 1, 1, 1) if self.state == 'normal' else (.349, .5686, .392, .2)

            Ellipse:
                size: self.size
                pos: self.pos
                source: "" if app.interventionView is None else "%s" % (app.interventionView)

<InterventionDisplayedScreen>:
    BoxLayout:
        id: top_box
        #diviser l'écran en deux
        orientation: "horizontal"
        size: root.size
        pos: root.pos
        spacing: 60


        BoxLayout:
            #barre latérale
            id: lateral
            orientation: "vertical"
            size_hint: 0.2, 1 #la barre latéral prend 20% de l'espace à l'écran
            pos: root.pos

            #couleur de fond
            canvas:
                Color:
                    rgb: (.349, .5686, .392, 1)

                RoundedRectangle:
                    size: self.size
                    pos: self.pos
                    radius: 0, 20, 20, 0 #TOP-L, TOP-R, BOTTOM-R, BOTTOM-L
            
            BoxLayout:
                id: bottom_box
                orientation: 'vertical'
                spacing: 80
                padding:[60, 0, 60, 0]

                Label:
                    background_normal: ''
                    text: 'VideGraff'
                    color: 1, 1, 1, 1
                    size_hint_y: 0.2
                    height: 40
                    width: 260
                    font_size: 65
                    halign: "center"
                    text_size: self.size
                    bold: True

                Label:
                    background_normal: ''
                    text: 'Essaie un de ces gestes !'
                    color: 1, 1, 1, 1
                    size_hint_y: 0.1
                    height: 40
                    width: 260
                    font_size: 34
                    halign: "left"
                    text_size: self.size
                    bold: True

                Button:
                    id: button_1
                    background_normal: ''
                    background_color: .349, .5686, .392, 1
                    size_hint_y: 0.10
                    width: 260
                    height: 40
                    on_press:
                        app.interventionContentRef.play()
                        #root.manager.transition.direction = 'left' 
                        #root.manager.transition.duration = 0
                        #root.manager.current = 'screen_TopicDisplay'

                    StackLayout:
                        pos: self.parent.pos
                        size: self.parent.size
                        orientation: 'lr-tb'
                        size_hint_y: None
                        spacing: 30

                        Image:
                            source: 'hand.png'
                            size_hint_x: None
                            width: 30
                            valign: "center"

                        Label:
                            size_hint_x: None
                            halign: "left"
                            height: 40
                            width: 260
                            text: "Play / Pause"
                            text_size: self.size
                            valign: "center"
                Button:
                    id: button_2
                    background_normal: ''
                    background_color: .349, .5686, .392, 1
                    size_hint_y: 0.10
                    width: 350
                    height: 40
                    on_press:
                        root.manager.transition.direction = 'left' 
                        root.manager.transition.duration = 0
                        root.manager.current = 'screen_TopicDisplay'

                    StackLayout:
                        pos: self.parent.pos
                        size: self.parent.size
                        orientation: 'lr-tb'
                        size_hint_y: None
                        spacing: 30

                        Image:
                            source: 'hand.png'
                            size_hint_x: None
                            width: 30
                            valign: "center"

                        Label:
                            size_hint_x: None
                            halign: "left"
                            height: 40
                            width: 350
                            text: "Changer d'intervention"
                            text_size: self.size
                            valign: "center"

                Label:
                    id: button_2
                    background_normal: ''
                    background_color: .349, .5686, .392, 1
                    size_hint_y: 0.10
                    width: 260
                    height: 40

                    StackLayout:
                        pos: self.parent.pos
                        size: self.parent.size
                        orientation: 'tb-lr'
                        size_hint_y: None
                        spacing: 30

                        Label:
                            size_hint_x: None
                            halign: "left"
                            height: 40
                            width: 260
                            text: "Contribuer"
                            text_size: self.size
                            valign: "center"
                            bold: True
                Button:
                    id: button_3
                    background_normal: ''
                    background_color: .349, .5686, .392, 1
                    size_hint_y: 0.10
                    width: 260
                    height: 40
                    on_press:
                        root.manager.transition.direction = 'left' 
                        root.manager.transition.duration = 0
                        root.manager.current = 'screen_AddGraffiti'

                    StackLayout:
                        pos: self.parent.pos
                        size: self.parent.size
                        orientation: 'lr-tb'
                        size_hint_y: None
                        spacing: 30
                        padding:[80, 0, 0, 0]

                        Image:
                            source: 'hand.png'
                            size_hint_x: None
                            width: 30
                            valign: "center"

                        Label:
                            size_hint_x: None
                            halign: "left"
                            height: 40
                            width: 260
                            text: "Graffiti"
                            text_size: self.size
                            valign: "center"
                Button:
                    id: button_4
                    background_normal: ''
                    background_color: .349, .5686, .392, 1
                    size_hint_y: 0.10
                    width: 260
                    height: 40

                    StackLayout:
                        pos: self.parent.pos
                        size: self.parent.size
                        orientation: 'lr-tb'
                        size_hint_y: None
                        spacing: 30
                        padding:[80, 0, 0, 0]

                        Image:
                            source: 'hand.png'
                            size_hint_x: None
                            width: 30
                            valign: "center"

                        Label:
                            size_hint_x: None
                            halign: "left"
                            height: 40
                            width: 260
                            text: "Vidéo"
                            text_size: self.size
                            valign: "center"
                Button:
                    id: button_4
                    background_normal: ''
                    background_color: .349, .5686, .392, 1
                    size_hint_y: 0.10
                    width: 240
                    height: 40
                    on_press:
                        root.manager.transition.direction = 'right' 
                        root.manager.transition.duration = 0
                        root.manager.current = 'screen_TopicsSelection'

                    StackLayout:
                        pos: self.parent.pos
                        size: self.parent.size
                        orientation: 'lr-tb'
                        size_hint_x: None
                        size_hint_y: None
                        spacing: 30
                        

                        Image:
                            source: 'hand.png'
                            size_hint_x: None
                            width: 30
                            valign: "center"

                        Label:
                            size_hint_x: None
                            halign: "left"
                            height: 40
                            width: 260
                            text: "Retour aux sujets"
                            text_size: self.size
                            valign: "center"  
      
                Widget:
            
                FloatLayout:
                    Image:
                        source: "chibi_side_bar.png"
                        size_hint_x: 1
                        size_hint_y: None
                        size: self.texture_size
                        anchor_x: "center"
                        anchor_y: "center"

<HeaderSubjectTitle>:
    BoxLayout:
        orientation: 'vertical'
        size: root.size
        pos: root.pos
        spacing: 30
        id: content_box

        StackLayout:
            orientation: 'lr-tb'
            size_hint_x: 2
            size_hint_y: .1
            

            Label:
                text: "Titre sujet sélectionné"
                bold: True
                font_size: 44
                text_size: self.size
                color: .349, .5686, .392, 1

<InterventionContent>:
    BoxLayout:
        id: intervention_content
        orientation: "horizontal"
        size: root.size
        pos: root.pos
        padding:[100]
        spacing: 100


        BoxLayout:
            orientation: "vertical"
            size: root.size
            pos: root.pos

            VideoPlayer:
                id: video
                source: "video_test.mp4"
                #state: "pause"
                state: root.video_state
                size_hint: 1,2
                size: root.size

            Widget:
        
        StackLayout:
            orientation: "tb-lr"
            pos: self.pos
            size: self.size
            background_color: 0, 0, 0, 0
            size_hint: 0.5, 1

            canvas.before:
                Color:
                    rgba: 1, 1, 1, 1

                RoundedRectangle:
                    pos: self.pos
                    size: self.size
                    radius: 40, 40, 40, 40
            
            GridLayout:
                cols: 1
                pos: self.pos
                size: self.size
                padding: [60]
                spacing: 60

                Label:
                    text: "Graffiti"
                    text_size: self.size
                    size: self.parent.size
                    size_hint_y: 0.05
                    pos: self.pos
                    color: .349, .5686, .392, 1
                    halign: 'left'
                    bold: True

                Image:
                    source: "graffiti.jpeg"
                    size: self.size
                    pos: self.pos
                    halign: "center"

                Widget:

<AddGraffitiScreen>:
    BoxLayout:
        id: top_box
        #diviser l'écran en deux
        orientation: "horizontal"
        size: root.size
        pos: root.pos
        spacing: 60


        BoxLayout:
            #barre latérale
            id: lateral
            orientation: "vertical"
            size_hint: 0.2, 1 #la barre latéral prend 20% de l'espace à l'écran
            pos: root.pos

            #couleur de fond
            canvas:
                Color:
                    rgb: (.349, .5686, .392, 1)

                RoundedRectangle:
                    size: self.size
                    pos: self.pos
                    radius: 0, 20, 20, 0 #TOP-L, TOP-R, BOTTOM-R, BOTTOM-L
            
            BoxLayout:
                id: bottom_box
                orientation: 'vertical'
                spacing: 80
                padding:[60, 0, 60, 0]

                Label:
                    background_normal: ''
                    text: 'VideGraff'
                    color: 1, 1, 1, 1
                    size_hint_y: 0.2
                    height: 40
                    width: 260
                    font_size: 65
                    halign: "center"
                    text_size: self.size
                    bold: True

                Label:
                    background_normal: ''
                    text: 'Essaie un de ces gestes !'
                    color: 1, 1, 1, 1
                    size_hint_y: 0.1
                    height: 40
                    width: 260
                    font_size: 34
                    halign: "left"
                    text_size: self.size
                    bold: True

                Button:
                    id: button_1
                    background_normal: ''
                    background_color: .349, .5686, .392, 1
                    size_hint_y: 0.10
                    width: 260
                    height: 40
                    on_press:
                        root.manager.transition.direction = 'left' 
                        root.manager.transition.duration = 0
                        root.manager.current = 'screen_TopicsSelection'
                        app.addGraffitiContentRef.save_grafffiti_png()

                    StackLayout:
                        pos: self.parent.pos
                        size: self.parent.size
                        orientation: 'lr-tb'
                        size_hint_y: None
                        spacing: 30

                        Image:
                            source: 'hand.png'
                            size_hint_x: None
                            width: 30
                            valign: "center"

                        Label:
                            size_hint_x: None
                            halign: "left"
                            height: 40
                            width: 300
                            text: "Valider les changements"
                            text_size: self.size
                            valign: "center"
                
                Button:
                    id: button_3
                    background_normal: ''
                    background_color: .349, .5686, .392, 1
                    size_hint_y: 0.10
                    width: 260
                    height: 40

                    StackLayout:
                        pos: self.parent.pos
                        size: self.parent.size
                        orientation: 'lr-tb'
                        size_hint_y: None
                        spacing: 30

                        Image:
                            source: 'hand.png'
                            size_hint_x: None
                            width: 30
                            valign: "center"

                        Label:
                            size_hint_x: None
                            halign: "left"
                            height: 40
                            width: 260
                            text: "Annuler"
                            text_size: self.size
                            valign: "center"
                  
                Widget:
            
                FloatLayout:
                    Image:
                        source: "chibi_side_bar.png"
                        size_hint_x: 1
                        size_hint_y: None
                        size: self.texture_size
                        anchor_x: "center"
                        anchor_y: "center"

<AddGraffitiContent>:
    BoxLayout:
        orientation: "vertical"
        padding: [30, 60, 100, 100]
        size: root.size
        pos: root.pos

        GridLayout:
            cols: 1
            size: self.size
            pos: self.pos
            id: graffiti_draw

            canvas.before:
                Color:
                    rgba: 1, 1, 1, 1
                RoundedRectangle:
                    size: self.size
                    pos: self.pos
                    radius: 40, 40, 40, 40
            
            GridLayout:
                cols: 1
                size: self.size
                pos: self.pos

                Widget:
                    id: painter_widget
                    canvas:
                        Color:
                            rgba: 0,0,0,0
                        Rectangle:
                            size: [100, 100]
                            pos: self.pos
